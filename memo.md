# りすりすメモ

- webpack だとバンドル設定の最適化がことごとくうまくいかない
  - Tree Shaking しようとするとページが壊れて真っ白になる
- brotli 圧縮したいけど、webpack だと大変そう
- なので、Vite に乗り換えたい
  - けど、乗り換えるのはむずい
- `index.html` の余計な `rel="preload"` 達を消したい
  - というか `index.html` を自由にいじらせてほしい
  - けど、webpack でのやり方がよくわからないので一旦後回し
- ffmpeg がバンドルの大半を占めてるんだけど、splitting が上手く行ってなさそう
  - webpack と格闘するの辛すぎるけど、やるしかない
  - chunk 分割をすると minify でエラーが出て、直せなくて詰み
- 流石に webpack は辛すぎるので、Vite に乗り換える
  - いったんやってみたが、ちゃんとできてるか分からん
- なんやかんやでバンドルサイズが Brotli 圧縮で 1.37 MB になった
  - とりあえず 1.0 MB は切りたい
